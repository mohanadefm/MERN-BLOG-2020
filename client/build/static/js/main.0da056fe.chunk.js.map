{"version":3,"sources":["logo.svg","config.js","components/Header.jsx","components/Footer.jsx","pages/Home.jsx","pages/Login.jsx","pages/Register.jsx","pages/Posts.jsx","pages/Users.jsx","pages/Profile.jsx","pages/UserPosts.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","URL","getAuthToken","localStorage","getItem","removeAuthToken","clear","GuestUser","react_default","a","createElement","Fragment","react_router_dom","style","styles","default","activeStyle","active","exact","to","LoggedInUser","props","user","admin","onClick","logout","Header","_ref","isLoggedIn","className","axios","defaults","headers","common","window","location","href","color","fontSize","textDecoration","Footer","date","Date","getFullYear","OnePost","_ref6","item","deletePost","editPost","_useState9","useState","_useState10","Object","slicedToArray","status","setStatus","_useState11","title","_useState12","newTitle","setNewTitle","_useState13","post","_useState14","newPost","setNewPost","onUpdatePost","_ref7","asyncToGenerator","regenerator_default","mark","_callee6","postId","wrap","_context6","prev","next","stop","_x6","_x7","apply","this","arguments","_id","value","onChange","_ref8","target","username","toLocaleDateString","_ref9","OnePostComments","_ref10","comments","addComment","loading","message","deleteComment","_useState15","_useState16","comment","setComment","key","length","map","body","id","width","e","placeholder","disabled","success","Home","_useState","_useState2","posts","setPosts","_useState3","_useState4","sortType","setSortType","_useState5","_useState6","setLoading","_useState7","_useState8","setMessage","useEffect","_callee","response","_response$data","ok","data","_message","_context","get","concat","sent","t0","getAllPosts","_ref2","_callee2","commentBody","_response$data2","_message2","newComment","newPosts","_context2","alert","abrupt","post_id","authorization","toConsumableArray","_x","_ref3","_callee3","_response$data3","_message3","_context3","confirm","delete","filter","_x2","_ref4","_callee4","_response$data4","_message4","deletedCommentId","_context4","comentsAfterDeleting","_x3","_ref5","_callee5","_response$data5","_message5","_newPost","_context5","put","_objectSpread","_x4","_x5","src","logo","alt","htmlFor","Login","email","password","form","setValues","successfullyLoggedIn","setSuccessfullyLoggedIn","handleSubmit","preventDefault","token","setItem","setUser","jwt_decode","onSubmit","Login_objectSpread","defineProperty","name","type","Register","password2","successfullyRegister","setSuccessfullyRegister","setTimeout","history","push","console","log","Register_objectSpread","required","_callee7","_context7","_x8","_x9","_ref11","_useState17","_useState18","event","Posts","setTitle","setPost","getPostsApi","addPost","commentId","_response$data6","_message6","Posts_objectSpread","Posts_OnePost","Posts_OnePostComments","Users","blogUsers","setBlogUsers","getAllUsers","useCallback","users","removeClicked","userId","deletedUserId","newUsers","findUser","index","path","pathname","state","Profile","newUsername","setNewUsername","newPassword","setNewPassword","repeatPass","setRepeatPass","saveNewUsername","saveNewPassword","UserPosts","userPosts","passedUserId","App","checkLoggedInUser","authToken","userDecoded","exp","now","components_Header","react_router","pages_Home","render","pages_Register","pages_Login","assign","pages_Posts","pages_Profile","pages_Users","pages_UserPosts","components_Footer","Boolean","hostname","match","ReactDOM","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0da056fe.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.50de3ff5.svg\";","const URL = `http://localhost:3040`;\r\nexport { URL };\r\n//===================================================================================================\r\n// Save user token after logging inside localstorage \r\nexport const saveAuthToken = (token) => {\r\n    localStorage.setItem('authToken', token);\r\n};\r\n//===================================================================================================\r\n// Retrieve user token form localstorage\r\nexport const getAuthToken = () => {\r\n   return localStorage.getItem('authToken');\r\n};\r\n//===================================================================================================\r\n// Clear localstorage\r\nexport const removeAuthToken = () => {\r\n    localStorage.clear();\r\n};\r\n//===================================================================================================\r\n\r\n\r\n// Questions:\r\n// Why when I open the client (blog) opened as a user not a guest till updating the browser? ok\r\n// Confirmation message when delete a post?\r\n// Hide create post by a button \r\n// Chang footer font-family\r\n// Correct login and register background style\r\n// Make page strech to the end\r\n// When I update in login and register convert me to home page\r\n// When I open npm it shows me last user and I can go to his profile\r\n// Show message welcome back when login\r\n// When I get in after npm start I press home it return me to post page\r\n// I get this message! Unauthenticated access! after return to post page\r\n// When I update in back-end like username, it did not affect in front-end?\r\n// res.send vs res.json\r\n// req vs req.body vs req.user\r\n// how to make blog logout user if he did not start button or not active?","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { removeAuthToken } from \"../config\";\r\n//===================================================================================================\r\nconst Header = ({ isLoggedIn }) => { // Or you can use (props), then (props.isLoggedIn) - isLoggedIn is the user\r\n\tconst logout = () => {\r\n\t\tremoveAuthToken();\r\n\t\taxios.defaults.headers.common[\"Authorization\"] = null;\r\n\t\twindow.location.href = \"/\"; // To convert you to Login page.\r\n\t};\r\n\treturn <div className=\"header\">\r\n\t\t<NavLink style={styles.default}  activeStyle={styles.active} exact to={\"/\"}>Home</NavLink>\r\n\t\t{ isLoggedIn? <LoggedInUser logout={logout} user={isLoggedIn}/> : <GuestUser/> }\r\n\t</div>\r\n};\r\n//===================================================================================================\r\n// If you entered as a guest, you get (home,register,login)\r\nfunction GuestUser() {\r\n\t// can i use switch here?\r\n\treturn  <React.Fragment>\r\n\t\t<NavLink style={styles.default} activeStyle={styles.active} exact to={\"/login\"}>Login</NavLink>\r\n\t\t<NavLink style={styles.default} activeStyle={styles.active} exact to={\"/register\"}>Register</NavLink>\r\n\t</React.Fragment>\r\n};\r\n//===================================================================================================\r\n// If you logged in, you get (home,posts,profile,logout)\r\nfunction LoggedInUser(props) {\r\n\treturn  <React.Fragment>\r\n\t\t{ \r\n\t\t\tprops.user.admin? \t<NavLink style={styles.default} activeStyle={styles.active} exact to={\"/users\"}>Users</NavLink> :\r\n\t\t\t\t\t\t\t\t<NavLink style={styles.default} activeStyle={styles.active} exact to={\"/posts\"}>Posts</NavLink> \r\n\t\t}\r\n\t\t<NavLink style={styles.default} activeStyle={styles.active} exact to={\"/profile\"}>Profile</NavLink>\r\n\t\t<NavLink style={styles.default} activeStyle={styles.active} exact to={\"/log-out\"} onClick={props.logout}>Logout</NavLink>\r\n\t</React.Fragment>\r\n};\r\n//===================================================================================================\r\nexport default Header;\r\n\r\nconst styles = {\r\n\tactive: {\r\n\t\tcolor: \"#f3ca20\",\r\n\t\tfontSize:\"25px\"\r\n\t},\r\n\tdefault: {\r\n\t\ttextDecoration: \"none\",\r\n\t\tcolor: \"#00c6ff\",\r\n\t\tfontSize:\"20px\"\r\n\t}\r\n};","import React from \"react\";\r\nimport \"../style.css\"\r\n\r\nfunction Footer() {\r\n\r\n\tconst date = new Date().getFullYear();\r\n\t\r\n\treturn <div className=\"footer\">\r\n\t\t<p>Copyright Reserved {date}</p>\r\n\t</div>\r\n};\r\n\r\nexport default Footer;","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { URL, getAuthToken } from \"../config\";\r\nimport logo from \"../logo.svg\";\r\n//===================================================================================================\r\nfunction Home(props) {\r\n\r\n\tconst [posts   , \tsetPosts] = useState([]);\r\n\tconst [sortType, setSortType] = useState(\"descending\"); //descending or ascending    \r\n\tconst [loading , setLoading ] = useState(true);\r\n\tconst [message , setMessage ] = useState({ success:null, message:null }); // What is success? Why it\"s not false?\r\n    \r\n    useEffect( ()=>{\r\n\t\tconst getAllPosts = async () => {\r\n\t\ttry{\r\n\t\t\tconst response = await axios.get(`${URL}/posts?sort=${sortType}`); // What axios here??\r\n\t\t\tconst { ok,data,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:true, message:message });\r\n\t\t\t\tsetPosts(data.posts);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch{\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetMessage({ success:false, message:\"Try again!\" });\r\n\t\t}\r\n    };\r\n    getAllPosts();\r\n\t}, [sortType]);\r\n    \r\n    const addComment = async (commentBody) => {\r\n    \tif(!props.user){\r\n\t\t\talert(\"Login to comment!\");\r\n\t\t\treturn;         \r\n\t\t};\r\n    \tif(commentBody.comment === \"\"){\r\n    \t\talert(\"Please insert a comment!\");\r\n    \t\treturn;\r\n    \t};\r\n        try{\r\n\t\t\tconst response = await axios.post(`${URL}/comments`,{post_id:commentBody.postId,body:commentBody.comment},  {headers:{ authorization:getAuthToken()}});\r\n\t\t\tconst { ok,data,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:true, message:message });\r\n\t\t\t\tlet newComment = data.comment; // explain from here ??\r\n\t\t\t\tnewComment.user = props.user;\r\n\t\t\t\tconst newPosts = posts.map(post=>{\r\n\t\t\t\t\tif(post._id === commentBody.postId){\r\n\t\t\t\t\t\tpost.comments = [...post.comments,newComment];\r\n\t\t\t\t\t\treturn post;\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn post;\r\n\t\t\t\t});\r\n\t\t\t\tsetPosts(newPosts);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch{\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetMessage({ success:false, message:\"Try again!\" }); // Why we type a message?\r\n\t\t}\r\n    };\r\n    \r\n\tconst deletePost = async (item) => {\r\n\t\tconst confirmed = window.confirm(`Are you sure to delete (${item.title} post)?`);\r\n\t\tif(!confirmed)\r\n\t\t\treturn;\r\n\t\ttry{\r\n\t\t\tconst response = await axios.delete(`${URL}/posts/${item._id}`, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\t\t\t\t\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:true, message:message });\r\n\t\t\t\tconst newPosts = posts.filter(post=>post._id !== item._id)\r\n\t\t\t \tsetPosts(newPosts);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetMessage({ success:false, message:\"Try again!\" });\r\n\t\t}\r\n\t};\r\n\t\r\n\tconst deleteComment = async (comment) => {\r\n\t\ttry{\r\n\t\t\tconst response = await axios.delete(`${URL}/comments/${comment._id}`, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,message,data } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:true, message:message });\r\n\t\t\t\tconst deletedCommentId = data.comment._id;\r\n\t\t\t\tconst newPosts = posts.map(post=>{\r\n\t\t\t\t\tif(post._id === comment.post){\r\n                       const comentsAfterDeleting = post.comments.filter(comment=>deletedCommentId !== comment._id);\r\n                       post.comments = comentsAfterDeleting;\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn post;\r\n\t\t\t\t});\r\n\t\t\t\tsetPosts(newPosts);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetMessage({ success:false, message:\"Try again!\" });\r\n\t\t}\r\n\t};\r\n\t\t\r\n\tconst editPost = async (postId,newPost) => {\r\n\t\tif(newPost.post === \"\" || newPost.title === \"\")\r\n\t\t\treturn alert(\"Please enter a valid text!\");\r\n        try{\r\n\t\t\tconst response = await axios.put(`${URL}/posts/${postId}`, {title:newPost.title, post:newPost.post}, {headers:{authorization:getAuthToken()}} );\r\n\t\t\tconst { ok,data,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\talert(message);\r\n\t\t\t}else{\r\n\t\t\t\tconst newPost ={ title:data.post.title, post:data.post.post};\r\n\t\t\t\tconst newPosts = posts.map(post=>{\r\n\t\t\t\t   \tif(postId === post._id){\r\n\t                  return {\r\n\t                  \t...post,\r\n\t                  \t...newPost\r\n\t                  }\r\n\t\t\t\t   \t};\r\n\t\t\t\t   \treturn post;\r\n\t\t\t   });\r\n\t\t\t \tsetPosts(newPosts);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\talert(\"Please try again!\");\r\n\t\t}\r\n\t};\r\n\t\r\n\treturn <div className=\"home\">\r\n\t    <img src={logo} className=\"App-logo\" alt=\"blog\" />\r\n\t\t<h1>{props.user ? `Welcome back (${props.user.username}) to Mohanad Blog` : \"Welcome to Mohanad Blog\"}</h1>\r\n        \r\n        <div className=\"selectOption\">\r\n\t\t\t<label htmlFor=\"sorting-date\">Sorting by </label>\r\n\t\t\t<select id=\"sorting-date\" onChange={e=>setSortType(e.target.value)}>\r\n\t\t\t  <option value=\"descending\">descending</option>\r\n\t\t\t  <option value=\"ascending\" >ascending</option>\r\n\t\t\t</select>\r\n\t\t</div>\r\n\r\n\t\t{  }\r\n\r\n\t\t{\r\n\t\t\tloading ? <h2>Loading...</h2> : \r\n          \t\t!message.success ? <p>{message.message}</p> :\r\n          \t\t\tposts.length === 0 ? <h2>There are no posts.</h2> :\r\n\t\t              \tposts.map((item,key)=>{\r\n\t\t\t              \treturn <div className=\"posts-one-post\" key={key}>\r\n\t\t\t              \t\t<OnePost item={item} deletePost={deletePost} editPost={editPost} props={props}/>\r\n\t\t\t\t\t\t\t\t<div className=\"posts-comments\">\r\n\t\t\t\t\t\t\t\t\t<OnePostComments postId={item._id} comments={item.comments} deleteComment={deleteComment} props={props} addComment={addComment} loading={loading} message={message} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t              \t})\r\n\t\t}\r\n\t</div>\r\n};\r\n//===================================================================================================\r\nfunction OnePost({item,deletePost,editPost,props}) {\r\n\r\n\tconst [status, \t setStatus  ] = useState(\"Edit\");\r\n\tconst [newTitle, setNewTitle] = useState(item.title);\r\n\tconst [newPost,  setNewPost ] = useState(item.post);\r\n\t\r\n\tconst onUpdatePost = async (postId,newPost) => {\r\n\t\tif(status === \"Edit\"){\r\n\t\t\tsetStatus(\"Save\"); \r\n\t\t}else{\r\n\t\t\tsetStatus(\"Edit\");\r\n\t\t\teditPost(postId,newPost);\r\n\t\t};\r\n\t};\r\n  \t\r\n\treturn <div className=\"onepost\">\r\n\t\t{\r\n\t\t\tprops.user === null ? null : \r\n\t\t\t\t!props.user.admin ? null : \r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<button onClick={()=>{deletePost(item)}}>Delete</button>\r\n\t\t\t\t\t\t<button onClick={()=>{onUpdatePost(item._id,{title:newTitle,post:newPost})}}>{status}</button>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t}\r\n\r\n\t\t{\r\n\t\t\tstatus === \"Edit\" ? <h2>{item.title}</h2> :\r\n\t\t\t\t<input value={newTitle} onChange={({target:{value}})=>setNewTitle(value)}></input>\r\n\t\t}\r\n\r\n    \t<h4>Posted by: {item.user? item.user.username : \"Guest\"}</h4>\r\n\t\t<h4>Publish date: {new Date(item.date||new Date()).toLocaleDateString()}</h4>\r\n\t\t\r\n\t\t{\r\n\t\t\tstatus === \"Edit\" ? <p>{item.post}</p> :\r\n\t\t\t\t<textarea value={newPost} onChange={({target:{value}})=>setNewPost(value)}></textarea>\r\n\t\t}\r\n\t</div>\r\n};\r\n//===================================================================================================\r\n// Why we made another function?\r\nfunction OnePostComments({postId,comments,addComment,loading,message,props,deleteComment}) {\r\n\r\n\tconst [comment , setComment] = useState(\"\");\r\n\t\r\n\treturn <div className=\"OnePostComments\" key={postId}>\r\n\t\t<h3>Comments:</h3>\r\n\r\n\t\t{\r\n\t\t\t(comments.length === 0)? <p>There are no comments.</p> : \r\n              \tcomments.map((item,key)=>{\r\n\t              \treturn <div className=\"OnePostComments-lists\" key={key}>\r\n\t              \t\t{\r\n\t              \t\t\t(props.user === null)? null :\r\n\t\t\t\t\t\t\t\t(props.user.admin)? <button onClick={()=>{deleteComment(item)}}>Delete</button> : null\r\n\t\t\t\t\t\t}\r\n\t\t              \t<p>- {item.body}</p>\r\n\t\t              \t<p id=\"p2\">\r\n\t\t\t              \t<span>User: {item.user? item.user.username : \"Guest\"}</span>\r\n\t\t\t\t\t\t\t<span>Date: {item.date}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n              \t})\r\n\t\t}\r\n\r\n\t\t<div style={{\"width\": \"95%\"}}>\r\n\t\t\t<input onChange={ (e)=>setComment(e.target.value) } value={comment} placeholder=\"Comment...\"/>\r\n\t\t\t<button onClick={ ()=>{addComment({ postId:postId, comment:comment }); setComment(\"\")}} disabled={loading}>Add comment</button>\r\n\t\t\t<br/>\r\n\t\t  \t{ (!message.success)? <p>{message.message}</p> : null }\r\n\t\t</div>\r\n\t\t\r\n\t</div> // Meanning of disabled?\r\n}\r\n//===================================================================================================\r\nexport default Home;\r\n//===================================================================================================","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { URL } from \"../config\";\r\nimport { saveAuthToken } from \"../config\";\r\nimport jwt_decode from \"jwt-decode\";\r\n//===================================================================================================\r\nconst Login = (props) => {\r\n\r\n\tconst [form   , setValues ] = useState({ email:\"\", password:\"\" });\r\n\tconst [message, setMessage] = useState(\"\");\r\n\tconst [successfullyLoggedIn, setSuccessfullyLoggedIn] = useState(null);\r\n\t\r\n\tconst handleChange = (e) => {\r\n\t\tsetValues({ ...form, [e.target.name]: e.target.value });\r\n\t};\r\n\t\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry{\r\n\t\t\tconst response = await axios.post(`${URL}/users/login`, {email:form.email, password:form.password});\r\n\t\t\tconst { ok,message,data } = response.data;\r\n\t\t\tif(ok){\r\n\t\t\t\tsetMessage(message);\r\n\t\t\t\tsetSuccessfullyLoggedIn(true);\r\n\t\t\t\t//save user token inside browser localstorage.\r\n\t\t\t\tsaveAuthToken(data.token); \r\n\t\t\t\tprops.setUser(jwt_decode(data.token));\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t//   props.history.push(\"/posts\");\r\n\t\t\t\t// }, 2000);\r\n\t\t\t}else{\r\n\t\t\t\tsetMessage(message);\r\n\t\t\t\tsetSuccessfullyLoggedIn(false);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tsetMessage(\"Try again!\");\r\n\t\t\tsetSuccessfullyLoggedIn(false);\r\n\t\t}\r\n\t};\r\n\t\r\n\treturn <div className=\"login\">\r\n\r\n\t\t<form onSubmit={handleSubmit} onChange={handleChange} className=\"login-box\">\r\n\r\n\t\t\t<label>Email   </label>\t<input name=\"email\"    />\r\n\t\t\t<label>Password</label>\t<input name=\"password\" />\r\n\r\n\t\t\t<button type=\"submit\" name=\"submit\">Login</button>\r\n\r\n\t\t\t{ message? <h4 style={{color: successfullyLoggedIn? \"green\" : \"red\"}}>{message}</h4> : null }\r\n\r\n\t\t</form>\r\n\r\n\t</div>\r\n};\r\n//===================================================================================================\r\nexport default Login;\r\n\r\n// why welcome message is not working??","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { URL } from \"../config\";\r\n//===================================================================================================\r\nconst Register = (props) => {\r\n\r\n\tconst [form   , setValues ] = useState({ username:\"\", email:\"\", password:\"\", password2:\"\" });\r\n\tconst [message, setMessage] = useState(\"\");\r\n\tconst [successfullyRegister,setSuccessfullyRegister] = useState(null);\r\n\r\n\tconst handleChange = (e) => {// explain why ...form, then array then not\r\n\t\tsetValues({ ...form, [e.target.name]: e.target.value });\r\n\t\t// or use this way for each one (one by one)\r\n\t\t// const handleChangePass = (e) => {\r\n\t\t//   let data = e.target.value;\r\n\t\t//   form.password = data;\r\n\t\t//   setValues(form);\r\n\t\t// };\r\n\t};\r\n\t\r\n\tconst handleSubmit = async (e) => {\r\n\t\te.preventDefault();\r\n\t\ttry{\r\n\t\t\tconst response = await axios.post(`${URL}/users/register`, {username:form.username, email: form.email, password: form.password, password2: form.password2});\r\n\t\t\tconst { ok,message } = response.data;\r\n\t\t\tif(ok){\r\n\t\t\t\tsetMessage(message);\r\n\t\t\t\tsetSuccessfullyRegister(true);//what true mean?\r\n\t\t\t\tsetTimeout( () => {\r\n\t\t\t\t\tprops.history.push(\"/login\");// why props not window\r\n\t\t\t\t}, 2000);\r\n\t\t\t}else{\r\n\t\t\t\tsetMessage(message);\r\n\t\t\t\tsetSuccessfullyRegister(false);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(error){\r\n\t\t\tconsole.log(error);\r\n\t\t\tsetMessage(\"Try again!\");// why dont write message\r\n\t\t\tsetSuccessfullyRegister(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn <div className=\"register\">\r\n\r\n\t\t<form onSubmit={handleSubmit} onChange={handleChange} className=\"register-box\">\r\n\r\n\t\t\t<label>Username\t\t  </label>\t<input name=\"username\" \trequired/>\r\n\t\t\t<label>Email\t\t  </label>\t<input name=\"email\" \trequired/>\r\n\t\t\t<label>Password\t\t  </label>\t<input name=\"password\" \trequired/>\r\n\t\t\t<label>Repeat password</label> \t<input name=\"password2\" required/>\r\n\t\t\t{/*why submit for name and type in button*/}\r\n\t\t\t<button type=\"submit\" name=\"submit\">register</button>\r\n\t\t\t\r\n\t\t\t{ message? <h4 style={{color: successfullyRegister? \"green\" : \"red\"}}>{message}</h4> : null }\r\n\r\n\t\t</form>\r\n\r\n\t</div>\r\n};\r\n//===================================================================================================\r\nexport default Register;","import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { URL, getAuthToken } from \"../config\";\r\n//===================================================================================================\r\nfunction Posts(props) {\r\n\r\n\tconst [posts  , setPosts  ] = useState([]);\r\n\tconst [title  , setTitle  ] = useState(\"\");\r\n\tconst [post   , setPost   ] = useState(\"\");\r\n\tconst [loading, setLoading] = useState(true);\r\n\tconst [message, setMessage] = useState({ success:null,message:null });// what is the benifit of using success: true or false?\r\n\t\r\n    const getPostsApi = async () => {\r\n\t\ttry{\r\n\t\t\tconst response = await axios.get(`${URL}/posts/user`, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,data,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\r\n\t\t\t\tsetMessage({ success:true, message:message });\r\n\t\t\t\tsetPosts(data.posts);//which first setMessage or setPosts?\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tsetMessage({ success:false, message:\"Try again!\" });\r\n\t\t}\r\n    };\r\n    \r\n\tuseEffect( () => {\r\n\t\tsetLoading(true);\r\n\t\tgetPostsApi();\r\n\t\tsetLoading(false);\r\n\t}, []);\r\n\t\r\n\tconst addPost = async (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif(post === \"\" || title === \"\"){\r\n\t\t\talert(\"Please enter a valid text!\");\r\n          \treturn;\r\n      \t}\r\n        try{\r\n\t\t\tconst response = await axios.post(`${URL}/posts`, {title:title, post:post}, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,data,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\t// setLoading(false);\r\n\t\t\t\t// setMessage({ success:false, message:message });\r\n\t\t\t\talert(message);\r\n\t\t\t}else{\r\n\t\t\t\tconst newPost ={ title:data.post.title, post:data.post.post, _id:data.post._id, date:data.post.date, user:props.user, comments:[] }; // What we put instead?\r\n\t\t\t \tsetPosts([...posts,newPost]);\r\n\t\t\t\t// setLoading(false);\r\n\t\t\t\t// setMessage({ success:true });\r\n\t\t\t\tsetTitle(\"\");\r\n\t\t\t\tsetPost(\"\");\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){   // alert or setLoading & setMessage ????\r\n\t\t\talert(\"please try again\");\r\n\t\t\t// setLoading(false);\r\n\t\t\t// setMessage({ success:false, message:\"Try again!\" });\r\n\t\t}\r\n\t};\r\n\t\r\n  \tconst addComment = async (commentBody) => {\r\n    \tif(commentBody.comment === \"\")\r\n    \t\talert(\"Please enter a comment!\");\r\n        try{\r\n\t\t\tconst response = await axios.post(`${URL}/comments`, {post_id:commentBody.postId, body:commentBody.comment}, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,data,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetLoading(false);//true or false??\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:true, message:message });\r\n\t\t\t\tlet newComment = data.comment;\r\n\t\t\t\tnewComment.user = props.user;\r\n\t\t\t\tconst newPosts = posts.map( post => {\r\n\t\t\t\t\tif(post._id===commentBody.postId){\r\n\t\t\t\t\t\tpost.comments = [...post.comments,newComment];\r\n\t\t\t\t\t\treturn post;\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn post;\r\n\t\t\t\t});\r\n\t\t\t\tsetPosts(newPosts);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetMessage({ success:false, message:\"Try again!\" });// Why we type a message, not using message.message?\r\n\t\t}\r\n    };\r\n    \r\n    const deletePost = async (item) => {\r\n    \tconst confirmed = window.confirm(\"Are you sure?\");\r\n    \tif(!confirmed)\r\n    \t\treturn;\r\n    \ttry{\r\n\t\t\tconst response = await axios.delete(`${URL}/posts/${item._id}`, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\t\t\t\t\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:true, message:message }); //message:\"Successfully deleted!\"\r\n\t\t\t\tconst newPosts = posts.filter(post=>post._id !== item._id);\r\n\t\t\t \tsetPosts(newPosts);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetMessage({ success:false, message:\"Try again!\" }); // Why we type a message?\r\n\t\t}\r\n    };\r\n    \r\n    const deleteComment = async (commentId,postId) => {\r\n\t\ttry{\r\n\t\t\tconst response = await axios.delete(`${URL}/comments/${commentId}`, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,message,data } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetMessage({ success:true, message:message });\r\n\t\t\t\tconst deletedCommentId = data.comment._id;\r\n\t\t\t\tconst newPosts = posts.map(post=>{\r\n\t\t\t\t\tif(post._id === postId){\r\n                    \tconst comentsAfterDeleting = post.comments.filter(comment=>deletedCommentId !== comment._id);\r\n                    \tpost.comments = comentsAfterDeleting;\r\n                \t};\r\n\t\t\t\t\treturn post;\r\n\t\t\t\t});\r\n\t\t\t\tsetPosts(newPosts);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetMessage({success:false, message:\"Try again!\"});\r\n\t\t}\r\n\t};\r\n\t\r\n\tconst editPost = async (postId,newPost) => {\r\n\t\tif(newPost.post === \"\" || newPost.title === \"\")\r\n\t\t\treturn alert(\"Please enter a valid text!\");\r\n        try{\r\n\t\t\tconst response = await axios.put(`${URL}/posts/${postId}`, {title:newPost.title, post:newPost.post}, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,data,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\talert(message);\r\n\t\t\t}else{\r\n\t\t\t\tconst newPost ={ title:data.post.title, post:data.post.post};\r\n\t\t\t\tconst newPosts = posts.map(post=>{\r\n\t\t\t\t   \tif(postId === post._id)\r\n                  \t\treturn {...post,...newPost};\r\n\t\t\t\t   \t// { // explain again??\r\n\t\t\t\t   \t// \ttitle=1,\r\n\t\t\t\t   \t// \tpost,\r\n\t\t\t\t   \t// \t_id,\r\n\t\t\t\t   \t// \ttitle=2,\r\n\t\t\t\t   \t// \tpost,\r\n\t\t\t\t   \t// \ttitle:6\r\n\t\t\t\t   \t// }\r\n\t\t\t\t   \treturn post;\r\n\t\t   \t\t});\r\n\t\t\t \tsetPosts(newPosts);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\talert(\"Please try again!\"); // why alert not loading and message?\r\n\t\t}\r\n\t};\r\n    \r\n\treturn <div className=\"posts\">\r\n\r\n\t\t<h1>{props.user.username} Posts</h1>\r\n\r\n\t\t<form className=\"posts-box\" onSubmit={addPost}>\r\n\t\t\t<input \t  onChange={(e)=>setTitle(e.target.value)} value={title} placeholder=\"Title\"/>\r\n\t\t\t<textarea onChange={(e)=>setPost(e.target.value)}  value={post}  placeholder=\"Text...\"/>\r\n\t\t\t<button type=\"submit\" name=\"submit\">Post</button>\r\n        </form>\r\n\r\n\t\t{\r\n\t\t\tloading? <p>Loading...</p> : \r\n          \t\t!message.success? <p>{message.message}</p> :\r\n          \t\t\t(posts.length === 0)? <h2>There are no posts.</h2> :\r\n          \t\t\t\t//<h2>All posts</h2>  // How to use this tag here?\r\n\t              \t\tposts.map((item,key)=>{\r\n  \t\t\t              \treturn <div className=\"posts-one-post\" key={key}>\r\n  \t\t\t              \t\t<OnePost item={item} deletePost={deletePost} editPost={editPost}/>\r\n  \t\t\t\t\t\t\t\t<div className=\"posts-comments\">\r\n  \t\t\t\t\t\t\t\t\t<OnePostComments postId={item._id} comments={item.comments} loading={loading} addComment={addComment} message={message} deleteComment={deleteComment} />\r\n  \t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t              \t})\r\n\t\t}\r\n\r\n\t</div>\r\n};\r\n//===================================================================================================\r\nfunction OnePost({item,deletePost,editPost})  {\r\n\t// why use key={postId} here? while use it key={index} up?\r\n\r\n\tconst [status  , setStatus  ] = useState(\"Edit\");\r\n\tconst [newTitle, setNewTitle] = useState(item.title);\r\n\tconst [newPost , setNewPost ] = useState(item.post);\r\n\t\r\n\tconst onUpdatePost = async (postId,newPost) => {\r\n\t\tif(status === \"Edit\"){\r\n\t\t\tsetStatus(\"Save\"); \r\n\t\t\t//convert text to input \r\n\t\t\t//save case\r\n\t\t}else{\r\n\t\t\tsetStatus(\"Edit\");\r\n\t\t\t//save new value and convert inputs to text\r\n\t\t\teditPost(postId,newPost);\r\n\t\t};\r\n\t};\r\n\r\n\treturn <div className=\"onepost\">\r\n\t\t\r\n\t\t<button onClick={()=>{deletePost(item)}}>Delete</button>\r\n\t\t<button onClick={()=>{onUpdatePost(item._id,{title:newTitle,post:newPost})}}>{status}</button>\r\n\t\t<br/>\r\n\t\t\r\n\t\t{ (status===\"Edit\")? <h2>{item.title}</h2> :\r\n\t\t\t\t<input value={newTitle} onChange={({target:{value}})=>setNewTitle(value)}></input> }\r\n\r\n    \t<h4>Posted by: {item.user.username}</h4>\r\n\t\t<h4>Publish date: {new Date(item.date||new Date()).toLocaleDateString()}</h4>\r\n\t\t\r\n\t\t{ (status===\"Edit\")? <p>{item.post}</p> :\r\n\t\t\t<textarea value={newPost} onChange={({target:{value}})=>setNewPost(value)}></textarea> }\r\n\t\r\n\t</div>\r\n}\r\n//===================================================================================================\r\nfunction OnePostComments({postId,comments,addComment,message,loading,deleteComment}) { \r\n\r\n\tconst [comment, setComment] = useState(\"\");\r\n\t\t\r\n\treturn <div className=\"OnePostComments\" key={postId}>\r\n\t\t<h3>Comments:</h3>\r\n\r\n\t\t{\r\n\t\t\t(comments.length === 0)? <p>There are no comments.</p> : \r\n              \tcomments.map( (item,key)=>{\r\n\t              \treturn <div className=\"OnePostComments-lists\" key={key}>\r\n\t              \t<button onClick={()=>deleteComment(item._id,postId)}>Delete</button>\r\n\t\t              \t<p>- {item.body}</p>\r\n\t\t              \t<p id=\"p2\">\r\n\t\t              \t\t<span> Username: {item.user.username}</span>\r\n\t\t\t\t\t\t\t<span> Date: {item.date}</span>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n              \t} )\r\n\t\t}\r\n\r\n\t\t<div style={{\"width\": \"95%\"}}>\r\n\t\t\t<input placeholder=\"Comment...\" value={comment} onChange={(event)=>setComment(event.target.value)}/>\r\n\t\t\t<button onClick={()=>{addComment({postId:postId,comment:comment}); setComment(\"\")}} disabled={loading}>Add comment</button>\r\n\t\t\t<br/>\r\n\t  \t\t{ (!message.success)? <p>{message.message}</p> : null }\r\n\t\t</div>\r\n\r\n\t\t\r\n\r\n\t</div>\r\n}\r\n//===================================================================================================\r\nexport default Posts;\r\n\r\n\r\n\r\n// const pageTitle = (props.user.username).charAt(0).toUpperCase() + (props.user.username).slice(1);\r\n// <h1>{ (props.user.username).charAt(0).toUpperCase() + (props.user.username).slice(1) } Posts</h1> // why don't work\r\n// why use disabled in last button?\r\n\r\n// in button why use type='submit' name='submit' ?","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport { URL, getAuthToken } from \"../config\";\r\n//===================================================================================================\r\nfunction Users(props) {\r\n\tconsole.log(props)\r\n\r\n\tconst [blogUsers, setBlogUsers] = useState([]);\r\n\tconst [message  , setMessage  ] = useState({ success:null, message:null });\r\n\t\r\n\tconst getAllUsers = useCallback( async () => { // or pass the function inside the useEffect\r\n\t\ttry{\r\n\t\t\tconst response = await axios.get(`${URL}/users/getusers`, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,data,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\r\n\t\t\t\tsetBlogUsers(data.users);// Warning! (data.users) not (data)\r\n\t\t\t\tsetMessage({ success:true, message:message.message });\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tconsole.log(message)// why should add this line// why see wrong error! 'message' is assigned a value but never used\r\n\t\t\tsetMessage({ success:false, message:\"Try again!\" });\r\n\t\t}\r\n\t}, [setMessage,setBlogUsers,message] );\r\n\r\n\tconst removeClicked = async (userId) => {\r\n\t\tconst confirmed = window.confirm(\"Are you sure to remove this user?\");\r\n\t\tif(!confirmed)\r\n\t\t\treturn;\r\n\t\ttry{\r\n\t\t\tconst response = await axios.delete(`${URL}/users/delete/${userId}`, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,data,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetMessage({ success:false, message: message });\r\n\t\t\t}else{\r\n\t\t\t\tsetMessage({ success:true, message:message });\r\n\t\t\t\tconst deletedUserId = data.findUser._id;\r\n\t\t\t\tconst newUsers = blogUsers.filter(user=>deletedUserId !== user._id);\r\n\t\t\t\tconsole.log(newUsers,deletedUserId)\r\n\t\t\t\tsetBlogUsers(newUsers);\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tsetMessage({ success:false, message: \"Try again!\" });\r\n\t\t}\r\n\t};\r\n \t\r\n    function toUserPosts(path,userId,username) {\r\n\t\tprops.history.push({\r\n\t\t\tpathname: path,\r\n\t\t\tstate: { userId:userId, username:username }\r\n\t\t});\r\n\t};\r\n\t\r\n    useEffect( ()=>{\r\n\t\tgetAllUsers();\r\n\t}, [] );\r\n\t\r\n\treturn <div className=\"users\">\r\n\t\t<h1>Blog Users</h1>\r\n\r\n\t\t{\r\n\t\t\tblogUsers.map((item,index)=>{\r\n\t\t\t\treturn <div className=\"users-box\" key={index}>\r\n\t\t\t\t\t<p>Username: {item.username}</p>\r\n\t\t\t\t\t<p>E-mail: {item.email}</p>\r\n\t\t\t\t\t{item.admin ? <p>Admin User</p> : null} {/*item.admin ? \"Yes\" : \"No\"*/}\r\n\t\t\t\t\t{item.admin ? null :<button onClick={ ()=>toUserPosts(\"/userposts\",item._id,item.username) }>User Posts</button>}\r\n\t\t\t\t\t{item.admin ? null :<button onClick={ ()=>removeClicked(item._id) }>Remove User</button>}\r\n\t\t\t\t</div>\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\t</div>\r\n};\r\n//===================================================================================================\r\nexport default Users;","import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { URL, getAuthToken } from \"../config\";\r\n//===================================================================================================\r\nfunction Profile(props) {\r\nconsole.log(props.user)\r\n\tconst [newUsername, setNewUsername] = useState(\"\");\r\n\tconst [newPassword, setNewPassword] = useState(\"\");\r\n\tconst [repeatPass , setRepeatPass ] = useState(\"\");\r\n\tconst [message    , setMessage    ] = useState({success:null, message:null});\r\n\t\r\n\tconst saveNewUsername = async (data) => {\r\n\r\n\t\tif(newUsername.length === 0) \r\n\t\t\treturn alert(\"Please insert a valid username!\");\r\n\t\tif(newUsername === props.user.username)\r\n\t\t\treturn alert(\"You can not use same username!\"); // how to make it for password\r\n\t\ttry{\r\n\t\t\tconst response = await axios.put(`${URL}/users/updateusername`, {username:data}, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\r\n\t\t\t\tsetMessage({ success:true, message:\"Successfully updated, logout to apply changes!\" });\r\n\t\t\t\tsetNewUsername(\"\");\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tsetMessage({ success:false, message:\"Try again!\" });\r\n\t\t}\r\n\t};\r\n\t\r\n\tconst saveNewPassword = async (password) => {\r\n\t\t//if((newPassword||repeatPass).length === 0) return alert(\"Please insert a valid password!\");  is it true?\r\n\t\tif(newPassword.length === 0 || repeatPass.length === 0) \r\n\t\t\treturn alert(\"Please insert a valid password!\");\r\n\t\tif(newPassword !== repeatPass) \r\n\t\t\treturn alert(\"Passwords must match!\");\r\n\t\ttry{\r\n\t\t\tconst response = await axios.put(`${URL}/users/updatepassword`, {password:newPassword, password2:repeatPass}, {headers:{authorization:getAuthToken()}});\r\n\t\t\tconst { ok,message } = response.data;\r\n\t\t\tif(!ok){\r\n\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t}else{\r\n\t\t\t\tsetMessage({ success:true, message:\"Successfully updated, logout to apply changes!\" });\r\n\t\t\t\tsetNewPassword(\"\");\r\n\t\t\t\tsetRepeatPass(\"\");\r\n\t\t\t};\r\n\t\t}\r\n\t\tcatch(e){\r\n\t\t\tsetMessage({ success:false, message:\"Try again!\" });\r\n\t\t}\r\n\t};\r\n\t\r\n\treturn <div className=\"profile\">\r\n\t\t<h2>{props.user.username}</h2>\t\r\n\t\t<h2>{props.user.email}</h2>\r\n\r\n\t\t<div className=\"profile-box\">\r\n\t\t\t<div >\r\n\t\t\t\t<h3>Change username</h3>\r\n\t\t\t\t<input  onChange={ (e)=>setNewUsername(e.target.value) } value={newUsername} placeholder=\"Enter new username\"/><br/>\r\n\t\t\t\t<button onClick={ ()=>saveNewUsername(newUsername) }>Save</button>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div >\r\n\t\t\t\t<h3>Change password</h3>\r\n\t\t\t\t<input onChange={ (e)=>setNewPassword(e.target.value) } value={newPassword} placeholder=\"Enter new password\"/><br/>\r\n\t\t\t\t<input onChange={ (e)=>setRepeatPass(e.target.value) } value={repeatPass} placeholder=\"Repeat new password\"/><br/>\r\n\t\t\t\t<button onClick={ ()=>saveNewPassword(newPassword) }>Save</button>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\t\t{ message.success && <p>{message.message}</p> }\r\n\t\t{ /*Is equal to ==> {message.success? <h2>{message.message} </h2>: null}*/ }\r\n\t\t\r\n\t</div>\r\n};\r\n//===================================================================================================\r\nexport default Profile;\r\n\r\n// const styles = {\r\n//   active: {\r\n//     color: \"yellow\",\r\n//     backgroundColor: \"red\",\r\n//     margin:100\r\n//   }\r\n// };","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport { URL, getAuthToken } from \"../config\";\r\n//===================================================================================================\r\nfunction UserPosts(props) {\r\n\tconsole.log(props)\r\n\r\n\tconst [posts  , setPosts  ] = useState([]);\r\n\tconst [message, setMessage] = useState({ success:null, message:null });\r\n\t\r\n\tconst userPosts = useCallback(async () => {\r\n\t\t\tconst passedUserId =  props.history.location.state.userId;\r\n\t\t\tif(!passedUserId) \r\n\t\t\t\treturn alert(\"User id is not existed!\");\r\n\t\t\ttry{\r\n\t\t\t\tconst response = await axios.get(`${URL}/posts/${passedUserId}`, {headers:{authorization:getAuthToken()}});\r\n\t\t\t\tconst { ok,data,message } = response.data;\r\n\t\t\t\tif(!ok){\r\n\t\t\t\t\tsetMessage({ success:false, message:message });\r\n\t\t\t\t}else{\r\n\t\t\t\t\tsetMessage({ success:true, message:message });\r\n\t\t\t\t\tsetPosts(data.posts);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcatch(e){\r\n\t\t\t\tconsole.log(message)\r\n\t\t\t\tsetMessage({ success:false, message:\"Try again!\" });\r\n\t\t\t}\r\n\t}, [setMessage,setPosts,message,props.history.location.state.userId]);\r\n\r\n\tuseEffect(()=>{\r\n\t\tuserPosts();\r\n\t}, [])\r\n\t\r\n\tfunction goBackToUsers(path) {\r\n    \tprops.history.push(path);\r\n\t};\r\n    \r\n    return <div className=\"userPosts\">\r\n    \t<button onClick={ ()=>goBackToUsers(\"/users\") }>Go Back</button>\r\n    \t<h1>{props.history.location.state.username} Posts</h1>\r\n\r\n\t    {\t(posts.length === 0) ? <h2>There are no posts.</h2> :\r\n\t\t\t\tposts.map((item,index)=>{\r\n\t\t\t\t\treturn <div className=\"userPosts-box\" key={index}>\r\n\t\t\t\t\t\t<h3>{item.title}</h3>\r\n\t\t\t\t\t\t<h5>Publish Date: {new Date(item.date||new Date()).toLocaleDateString()}</h5>\r\n\t\t\t\t\t\t<p>{item.post}</p>\r\n\t\t\t\t\t\t<div className=\"userPosts-comments\">\r\n\t\t\t\t\t\t\t<h4>Comments:</h4>\r\n\t\t\t\t\t\t\t{\titem.comments.length === 0 ? <p>There are no comments.</p> :\r\n\t\t\t\t\t\t\t\titem.comments.map( (item,index)=>{\r\n\t\t\t\t\t\t\t\t\treturn <div key={index}>\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t<li><span>{item.body} - </span>\r\n\t\t\t\t\t\t\t\t\t\t<span>By: {item.user? item.user.username : \"Guest\"}</span></li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t} )\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t})\r\n\t\t}\r\n\r\n    </div>\r\n};\r\n//===================================================================================================\r\nexport default UserPosts;","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect, Switch } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n//import axios from \"axios\";\r\n//-------------------------------------------------------\r\nimport Header    from \"./components/Header\";\r\nimport Footer    from \"./components/Footer\";\r\n//-------------------------------------------------------\r\nimport Home      from \"./pages/Home\";\r\nimport Login     from \"./pages/Login\";\r\nimport Register  from \"./pages/Register\";\r\nimport Posts     from \"./pages/Posts\";\r\nimport Users     from \"./pages/Users\";\r\nimport Profile   from \"./pages/Profile\";\r\nimport UserPosts from \"./pages/UserPosts\";\r\n//-------------------------------------------------------\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { getAuthToken, removeAuthToken } from \"./config\";\r\n//===================================================================================================\r\nfunction App () {\r\n  const [user, setUser] = useState({});\r\n  // console.log(\"App (user) ==>\", user);\r\n  //-------------------------------------------------------\r\n  const checkLoggedInUser = useCallback( () => { // Why useCallBack()?\r\n    let authToken = getAuthToken();\r\n    // console.log(\"authToken from App ==>\", authToken);\r\n    if(!authToken){\r\n      setUser(null);\r\n    }else{\r\n      // axios.defaults.headers.common[\"Authorization\"] = authToken; \r\n      let userDecoded = jwt_decode(authToken); // What userDecoded, jwt_decode?  2-const or let??\r\n      // console.log(\"userDecoded from App ==>\", userDecoded);\r\n      if(userDecoded.exp * 1000 < Date.now()){ // Explain?\r\n        setUser(null);\r\n        removeAuthToken();\r\n      }\r\n      delete userDecoded.password;\r\n      setUser(userDecoded);\r\n    };\r\n  }, [setUser]);\r\n  //-------------------------------------------------------\r\n  useEffect( () => {\r\n    checkLoggedInUser();\r\n  }, [checkLoggedInUser]);\r\n  //-------------------------------------------------------\r\n  return <div className=\"App\">\r\n    <Router>\r\n      <Header isLoggedIn={user}/>\r\n      <Switch>\r\n      <Route exact path=\"/\">         <Home user={user}/> </Route>\r\n      <Route exact path=\"/register\"  render={props=> user?<Redirect to={\"/register\"}/>:<Register   {...props}/>}/>\r\n      <Route exact path=\"/login\"     render={props=> user?<Redirect to={user.admin?\"/users\":\"/posts\"}/>:<Login{...props} setUser={setUser}/>}/> \r\n      <Route exact path=\"/posts\"     render={props=>!user?<Redirect to={\"/login\"}/>:<Posts      {...props} user={user}/>}/>\r\n      <Route exact path=\"/profile\"   render={props=>!user?<Redirect to={\"/login\"}/>:<Profile    {...props} user={user}/>}/>\r\n      <Route exact path=\"/users\"     render={props=>!user?<Redirect to={\"/login\"}/>:<Users      {...props} user={user}/>}/>\r\n      <Route exact path=\"/userposts\" render={props=>!user?<Redirect to={\"/login\"}/>:<UserPosts  {...props} user={user}/>}/>\r\n      </Switch>\r\n      <Footer />\r\n    </Router></div>\r\n};\r\n//===================================================================================================\r\nexport default App;\r\n// header\r\n// body ==> main \r\n// footer\r\n\r\n\r\n// why add setUser not user in login?\r\n//  <Route exact path=\"/\" render={props=> <Home     {...props} user={user}     />} />? is it true??","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './style.css';\r\nimport App from './App.jsx';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}